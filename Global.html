<!DOCTYPE HTML>
<html>
<head>
  <script src="jquery-2.1.1.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.js"></script>
  <script>
    var amonshizGlobal = {
      getGroups: function () {
        return [{
            groupName: "NuView",
            logins: [
              {
                userName: "nuview@midlandira.com.sandbox",
                password: "Midland2012",
                type: 'sandbox',
                description: "NuView sandbox"
              },
              {
                userName: "nuview@midlandira.com",
                password: "Midland2012",
                type: 'production',
                description: "NuView production"
              }
            ]
          },
          {
            groupName: "Somone Else",
            logins: [
              {
                userName: "test2@test.com",
                password: "password",
                description: "more testing stuff"
              }
            ]
          }
        ];
      },
      addAccount : function (account, groupName) {
        var groups = self.getGroups();
        var group = _.find(groups, function (curGroup) {
          if (groupName === null) {
            return curGroup.groupName === 'Uncategorized';
          } else {
            return curGroup.groupName === groupName;
          }
        });
        group.logins.push(account);
        self.persistAccounts();
      },
      persistAccounts : function () {
        try {
          localStorage.groups = groups;
        }
      },
      orgTypes : {
        'production' : 'login',
        'sandbox' : 'test'
      }
    };
  </script>
</head>
<body></body>
</html>